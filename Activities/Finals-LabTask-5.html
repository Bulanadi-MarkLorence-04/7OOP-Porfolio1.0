

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Final Lab Task 5 | Bulanadi, Mark Lorence</title>
  <link rel="stylesheet" href="../assets/css/Laboratory.css">
  <link rel="icon" href="../assets/pics/bulanadiProf.png" type="image/png"> 
</head>
<body>
  <div class="container">
    <header>
       <h1>Final Lab Task 4/5</h1>
       <p class="muted"><strong>CRUD CLI using Python and MySQL</strong></p>
    </header>

    <section>
      <p>
1. Make sure you have installed the following pre-requisites before proceeding:<br>
&nbsp&nbsp&nbspa) Mysql-connector<br>
&nbsp&nbsp&nbspb) Mysql-connector-python<br>
&nbsp&nbsp&nbspc) c. Xampp is running along with Apache and Mysql in the background<br>
2. Create the following database in Mysql;<br>
&nbsp&nbsp&nbspa. Database name:<strong> moviesDB</strong> with the ff: fields:<br>
&nbsp&nbsp&nbsp&nbspmovie_id&nbsp&nbsp&nbsp&nbsp&nbspint(10) Primary Key<br>
&nbsp&nbsp&nbsp&nbsptitle&nbsp&nbsp&nbsp&nbsp&nbsp&nbspvarchar(50) NOT NULL<br>
&nbsp&nbsp&nbsp&nbspmain_actor&nbsp&nbsp&nbsp&nbsp&nbspvarchar(50) NOT NULL<br>
&nbsp&nbsp&nbsp&nbspdirector&nbsp&nbsp&nbsp&nbsp&nbspvarchar(50) NOT NULL<br>
&nbsp&nbsp&nbsp&nbspgenre&nbsp&nbsp&nbsp&nbsp&nbsp&nbspvarchar(25) NOT NULL<br>
&nbsp&nbsp&nbsp&nbspgross_sales&nbsp&nbsp&nbsp&nbsp&nbspfloat<br>
&nbsp&nbsp&nbsp&nbspratings&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp(G, PG, R13, R16,X) varchar(5)<br>
&nbsp&nbsp&nbspb. Insert at_least 5 records<br>
&nbsp&nbsp&nbspc. Create a user named test_user and assign a password and give it an admin access by checking necessary SQL functions<br>
3. Guided by the Demo code attached in this task. <strong>test_DemoDB.py</strong><br>
4. Kindly continue working on the code that will allow the user to navigate through the Database and perform simple CRUD operations. <strong>Follow the following CLI Menu Options:</strong><br>
5. The user should be able perform the ff: in your program.<br>
&nbsp&nbspMOVIE DATABASE CRUD APP<br>
&nbsp&nbsp&nbsp&nbsp&nbsp1. Add New Record<br>
&nbsp&nbsp&nbsp&nbsp&nbsp2. View all records<br>
&nbsp&nbsp&nbsp&nbsp&nbsp3. Update a Record and show the updates,<br>
&nbsp&nbsp&nbsp&nbsp&nbsp4. Delete a record<br>
&nbsp&nbsp&nbsp&nbsp&nbsp5. Search A Record<br>
&nbsp&nbsp&nbsp&nbsp&nbsp6. Display Total Numbers of Movies stored in the database<br>
&nbsp&nbsp&nbsp&nbsp&nbsp7. Exit<br>
6. For additional challenge, Task - You are to add a<strong> SEARCH option</strong> in the MENU that will allow the user to search by Name or emp_id, then display the information about the record being search. <br>You may use Like statement and fetchOne method in my SQL to do this,<br>
7. You are also going to add a method that will display the the<strong> total number of records</strong> in your database - You may use SQL count statement for this.<br>
      </p>
      
   </section>

    <section>
      <h3>MYSQL File Code</h3>
<div class="code-box">
  <pre><code>
    
-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Nov 30, 2025 at 04:22 PM
-- Server version: 10.4.32-MariaDB
-- PHP Version: 8.2.12

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `moviesdb`
--

-- --------------------------------------------------------

--
-- Table structure for table `moviemenu`
--

CREATE TABLE `moviemenu` (
  `movie_id` int(10) NOT NULL,
  `title` varchar(50) NOT NULL,
  `main_actor` varchar(50) NOT NULL,
  `director` varchar(50) NOT NULL,
  `genre` varchar(25) NOT NULL,
  `gross_sales` float NOT NULL,
  `ratings` varchar(5) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `moviemenu`
--

INSERT INTO `moviemenu` (`movie_id`, `title`, `main_actor`, `director`, `genre`, `gross_sales`, `ratings`) VALUES
(1, 'Sanggre The Movie', 'Bianca Umali', 'Suzete Ewan', 'Fantasy', 6590000, 'G'),
(2, 'Wicked ', 'Ariana Grande and Cyntia Erivo', 'Jon Chu', 'Fantasy', 500000, 'G'),
(3, 'Wicked For Good', 'Ariana Grande and Cyntia Erivo', 'Jon Chu', 'Fantasy', 6590000, 'G'),
(4, 'The Conjuring', 'Vera Farmiga and Patrick Wilson', 'James Wan', 'Horror', 60000100, 'SPG'),
(5, 'Barbie', 'Margot Robbie', ' Greta Gerwig ', 'Fantasy', 6590000, 'G');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `moviemenu`
--
ALTER TABLE `moviemenu`
  ADD PRIMARY KEY (`movie_id`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;

    
  </code></pre>
</div>
      <h3>Code for Movie.py File</h3>
      <div class="code-box">
        <pre><code>

import mysql.connector

# Connect to MySQL
conn = mysql.connector.connect(
    host="localhost",
    user="test_user",
    password="EkSeNa",
    database="moviesDB"
)
cursor = conn.cursor()

def add_movie():
    title = input("Enter Movie: ")
    mov_id = input("Enter Movie ID: ")
    actor = input("Enter the Main Lead: ")
    director = input("Enter Director: ")
    genre = input("Enter Movie Genre: ")
    gross_sales = float(input("Enter Gross Sales: "))
    rating = input("Enter Rating: ")

    cursor.execute(
        "INSERT INTO moviemenu (title, movie_id, main_actor, director, genre, gross_sales, ratings) "
        "VALUES (%s, %s, %s, %s, %s, %s, %s)",
        (title, mov_id, actor, director, genre, gross_sales, rating)
    )
    conn.commit()
    print("\nMovie added successfully!\n")
    view_movie()


def view_movie():
    cursor.execute("SELECT * FROM moviemenu")
    rows = cursor.fetchall()

    if rows:
        print("\nMovie List:")
        for row in rows:
            print(row)
    else:
        print("\nNo movie found.")
    print()


def update_movie():
    movie_id = input("Enter Movie ID to update: ")

    title = input("Enter new movie title: ")
    main_actor = input("Enter new Main Lead: ")
    director = input("Enter new Director: ")
    genre = input("Enter new Genre: ")
    gross_sales = float(input("Enter new Gross Sales: "))
    ratings = input("Enter new Ratings: ")

    cursor.execute(
        "UPDATE moviemenu SET title=%s, main_actor=%s, director=%s, genre=%s, gross_sales=%s, ratings=%s WHERE movie_id=%s",
        (title, main_actor, director, genre, gross_sales, ratings, movie_id)
    )
    conn.commit()
    print("\nMovie updated successfully!\n")


def delete_movie():
    movie_id = input("Enter Movie ID to delete: ")

    cursor.execute("DELETE FROM moviemenu WHERE movie_id=%s", (movie_id,))
    conn.commit()
    print("\nMovie deleted successfully!")
    view_movie()


def search_movie():
    title = input("Enter movie title to search: ")

    cursor.execute("SELECT * FROM moviemenu WHERE title LIKE %s", (f"%{title}%",))
    row = cursor.fetchone()

    if row:
        print("\nMovie found:")
        print(row)
    else:
        print("\nNo matching movie found.\n")


def count_movies():
    cursor.execute("SELECT COUNT(*) FROM moviemenu")
    total = cursor.fetchone()[0]
    print(f"\nTotal movies in database: {total}\n")


def menu():
    while True:
        print("\n----- MOVIE DATABASE CLI -----")
        print("1. Add Movie")
        print("2. View Movies")
        print("3. Update Movie")
        print("4. Delete a Movie")
        print("5. Search a Movie")
        print("6. Display Total Movie Records")
        print("7. Exit")

        choice = input("Choose an option (1-6): ")

        if choice == "1":
            add_movie()
        elif choice == "2":
            view_movie()
        elif choice == "3":
            update_movie()
        elif choice == "4":
            delete_movie()
        elif choice == "5":
            search_movie()
        elif choice == "6":
            count_movies()
        elif choice == "7":
            print("\nClosing program.")
            cursor.close()
            conn.close()
            break
        else:
            print("Invalid choice.\n")


if __name__ == "__main__":
    menu()

          
        </code></pre>
      </div>
           <h3>Output</h3>
      <div class="code-box">
        <pre><code>
   <strong>#ADDING</strong>       
----- MOVIE DATABASE CLI -----
1. Add Movie
2. View Movies
3. Update Movie
4. Delete a Movie
5. Search a Movie
6. Display Total Movie Records
7. Exit
Choose an option (1-6): <span class="user">1</span>
Enter Movie:<span class="user">Enola Holmes</span>
Enter Movie ID: <span class="user">6</span>
Enter the Main Lead: <span class="user">Millie Bobbie Brown</span>
Enter Director: <span class="user">Harry Bradbeer</span>
Enter Movie Genre: <span class="user">Adventure</span>
Enter Gross Sales: <span class="user">7600000</span>
Enter Rating: <span class="user">PG</span>

Movie added successfully!

Movie List:
(1, 'Sanggre The Movie', 'Bianca Umali', 'Suzete Ewan', 'Fantasy', 6590000.0, 'G')
(2, 'Wicked', 'Ariana Grande and Cyntia Erivo', 'Jon Chu', 'Fantasy', 85000000.0, 'G')
(3, 'Wicked For Good', 'Ariana Grande and Cyntia Erivo', 'Jon Chu', 'Fantasy', 6590000.0, 'G')
(4, 'The Conjuring', 'Vera Farmiga and Patrick Wilson', 'James Wan', 'Horror', 60000100.0, 'SPG')
(5, 'Barbie', 'Margot Robbie', ' Greta Gerwig ', 'Fantasy', 6590000.0, 'G')
(6, 'Enola Holmes', 'Millie Bobbie Brown', 'Harry Bradbeer', 'Adventure', 76000000.0, 'PG')

        </code></pre>
      </div>
       <div class="code-box">
        <pre><code>
   <strong>#VIEWING</strong>       
----- MOVIE DATABASE CLI -----
1. Add Movie
2. View Movies
3. Update Movie
4. Delete a Movie
5. Search a Movie
6. Display Total Movie Records
7. Exit
Choose an option (1-6): <span class="user">2</span>


Movie List:
(1, 'Sanggre The Movie', 'Bianca Umali', 'Suzete Ewan', 'Fantasy', 6590000.0, 'G')
(2, 'Wicked', 'Ariana Grande and Cyntia Erivo', 'Jon Chu', 'Fantasy', 85000000.0, 'G')
(3, 'Wicked For Good', 'Ariana Grande and Cyntia Erivo', 'Jon Chu', 'Fantasy', 6590000.0, 'G')
(4, 'The Conjuring', 'Vera Farmiga and Patrick Wilson', 'James Wan', 'Horror', 60000100.0, 'SPG')
(5, 'Barbie', 'Margot Robbie', ' Greta Gerwig ', 'Fantasy', 6590000.0, 'G')
(6, 'Enola Holmes', 'Millie Bobbie Brown', 'Harry Bradbeer', 'Adventure', 76000000.0, 'PG')

        </code></pre>
      </div>
       <div class="code-box">
        <pre><code>
   <strong>#UPDATING</strong>       
----- MOVIE DATABASE CLI -----
1. Add Movie
2. View Movies
3. Update Movie
4. Delete a Movie
5. Search a Movie
6. Display Total Movie Records
7. Exit
Choose an option (1-6): <span class="user">3</span>
Enter Movie ID to update: <span class="user">2</span>
Enter new movie title: <span class="user">Wicked</span>
Enter new Main Lead: <span class="user">Ariana Grande and Cyntia Erivo</span>
Enter new Director: <span class="user">Jon Chu</span> 
Enter new Genre: <span class="user">Fantasy</span>
Enter new Gross Sales: <span class="user">50000000</span>
Enter new Ratings: <span class="user">G</span>

Movie updated successfully!

        </code></pre>
      </div>
          <div class="code-box">
        <pre><code>
   <strong>#DELETING</strong>       
----- MOVIE DATABASE CLI -----
1. Add Movie
2. View Movies
3. Update Movie
4. Delete a Movie
5. Search a Movie
6. Display Total Movie Records
7. Exit
Choose an option (1-6): <span class="user">4</span>
Enter Movie ID to delete: <span class="user">6</span>

Movie deleted successfully!

Movie List:
(1, 'Sanggre The Movie', 'Bianca Umali', 'Suzete Ewan', 'Fantasy', 6590000.0, 'G')
(2, 'Wicked', 'Ariana Grande and Cyntia Erivo', 'Jon Chu', 'Fantasy', 5000000.0, 'G')
(3, 'Wicked For Good', 'Ariana Grande and Cyntia Erivo', 'Jon Chu', 'Fantasy', 6590000.0, 'G')
(4, 'The Conjuring', 'Vera Farmiga and Patrick Wilson', 'James Wan', 'Horror', 60000100.0, 'SPG')
(5, 'Barbie', 'Margot Robbie', ' Greta Gerwig ', 'Fantasy', 6590000.0, 'G')
          
        </code></pre>
      </div>
                <div class="code-box">
        <pre><code>
   <strong>#SEARCHING</strong>       
----- MOVIE DATABASE CLI -----
1. Add Movie
2. View Movies
3. Update Movie
4. Delete a Movie
5. Search a Movie
6. Display Total Movie Records
7. Exit
Choose an option (1-6): <span class="user">5</span>
Enter movie title to search: <span class="user">Wicked for good</span>

Movie found:
(3, 'Wicked For Good', 'Ariana Grande and Cyntia Erivo', 'Jon Chu', 'Fantasy', 6590000.0, 'G')

        </code></pre>
      </div>
                      <div class="code-box">
        <pre><code>
   <strong>#DISPLAY TOTAL RECORDS</strong>       
----- MOVIE DATABASE CLI -----
1. Add Movie
2. View Movies
3. Update Movie
4. Delete a Movie
5. Search a Movie
6. Display Total Movie Records
7. Exit
Choose an option (1-6): <span class="user">6</span>

Total movies in database: 5

        </code></pre>
      </div>

      
    </section>
      <a class="btn" href="https://bulanadi-marklorence-04.github.io/7OOP-Porfolio1.0/index.html">‚Üê Back to Portfolio</a>


    <footer>
      Nov 29, 2025 Bulanadi, Mark Lorence | Object-Oriented Programming Portfolio
    </footer>
  </div>
</body>
</html>
